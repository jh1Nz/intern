<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    
<ui:composition
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:f="http://java.sun.com/jsf/core"
          xmlns:h="http://java.sun.com/jsf/html"
          xmlns:ui="http://java.sun.com/jsf/facelets"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
          xmlns:p="http://primefaces.org/ui">
          
        <p:toolbar>
	        <f:facet
	            name="left">
	            <p:commandButton
	                icon="fa fa-save white" 
	                value="บันทึก" 
	                process="@form"
	                update="@form"
	                onclick="PF('bui').show()"
	                onsuccess="PF('bui').hide()"
	                actionListener="#{xsp01001Bean.insertButtonOnClick}"
	                rendered="#{xsp01001Bean.mode eq 'I'}"/>
	                
	            <p:commandButton
	                icon="fa fa-pencil" 
	                value="แก้ไขข้อมูล" 
	                process="@form"
	                update="@form"
	                onclick="PF('bui').show()"
	                onsuccess="PF('bui').hide()"
	                actionListener="#{xsp01001Bean.updateButtonOnClick}"
	                rendered="#{xsp01001Bean.mode ne 'S'}"/>
	                
	            <p:commandButton
	            	id="btn-delete"
	            	icon="fa fa-times"
	            	value="ลบ"
	                update=":formc"
	                process="@this"
	                onclick="PF('bui').show()"
	                onsuccess="PF('bui').hide()"
	                rendered="#{xsp01001Bean.mode eq 'U'}"
	                actionListener="#{xsp01001Bean.deleteButtonOnClick}"
	                oncomplete="window.scrollTo(0, 0);">
	                <p:confirm
	                    header="ยืนยันการลบรายการ"
	                    message="ต้องการลบรายการหรือไม่" />
	            </p:commandButton>
	            
	            <p:commandButton
	                icon="fa fa-refresh white"
	                value="เริ่มใหม่"
	                update=":formc"
	                process="@this"
	                immediate="true"
	                onclick="PF('bui').show()"
	                onsuccess="PF('bui').hide()"
	                actionListener="#{xsp01001Bean.resetSearch}">
	                <p:resetInput
	                    target=":formc" />
	             </p:commandButton>
	        </f:facet>
	        <f:facet
            	name="right">
	            <p:commandButton
	                id="btn-search"
	                update=":formc"
	                process="@this"
	                onclick="PF('bui').show()"
	                onsuccess="PF('bui').hide()"
	                value="กลับค้นหา"
	                immediate="true"
	                actionListener="#{xsp01001Bean.onPageSearch}"
	                icon="fa fa-reply">
	                <p:resetInput
	                    target=":formc" />
            	</p:commandButton>
        	</f:facet>
	    </p:toolbar>
	    
	    <div
	        class="ui-fluid">
	        <p:confirmDialog
	            global="true">
	            <p:panelGrid
	                columns="2"
	                columnClasses="ui-grid-col-new-12,ui-grid-col-new-12"
	                layout="grid"
	                styleClass="ui-panelgrid-blank">
	
	                <p:commandButton
	                    value="ตกลง"
	                    icon="fa fa-check"
	                    styleClass="ui-confirmdialog-yes" />
	                <p:commandButton
	                    value="ยกเลิก"
	                    icon="fa fa-times"
	                    styleClass="ui-confirmdialog-no" />
	            </p:panelGrid>
	        </p:confirmDialog>
    	</div>
</ui:composition>